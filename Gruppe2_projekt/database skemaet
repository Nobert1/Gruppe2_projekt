
Tabellerne ser sådan her ud (endnu ikke oprettet i min database da jeg bliver ved med at lave ændringer.)



CREATE TABLE if not exists Opskrifter (
opskriftID int AUTO_INCREMENT,
Produktnavn varchar(45),
Ændringsdato date,
Opbevarings_dage int,
versionsnummer int,
status varchar(45),
CONSTRAINT primary key pk1 (opskriftID, versionsnummer)
);

CREATE TABLE if not exists Ingrediensliste (
Råvare_navn varchar(45),
Mængde double,
IngListeID int references Opskrifter.opskriftID,
versionsnummer int references Opskrifter.versionsnummer,
PRIMARY KEY (Råvare_navn, IngListeID, versionsnummer),
CONSTRAINT FK1 FOREIGN KEY (IngListeID, versionsnummer) references Opskrifter (opskriftID, versionsnummer)
ON DELETE CASCADE
);

DROP TABLE Produktbatch;
DROP TABLE Råvare_batch_liste;
CREATE TABLE if not exists Produktbatch (
ProduktbatchID int primary key auto_increment,
Produktnavn varchar(45) references Opskrifter.Batch_navn,
Udløbsdato date,
opskriftID int references Opskrifter.opskriftID,
versionsnummer int references Opskrifter.versionsnummer,
status varchar(45)
);

CREATE TABLE if not exists Råvare_batch_liste (
Råvarebatch_liste_ID int,
BatchID int references Råvare_batch_lager.BatchID,
Producentnavn varchar(45) references Råvare_batch_lager.producentnavn,
primary key (BatchID, Producentnavn, Råvarebatch_liste_ID),
FOREIGN KEY (Råvarebatch_liste_ID) references Produktbatch (ProduktbatchID)
ON DELETE CASCADE
);

CREATE TABLE if not exists Råvare_batch_lager (
BatchID int,
producentnavn varchar(45),
Mængde double,
Råvare_navn varchar(45),
rest boolean,
INDEX Mængde_index (Mængde),
primary key (BatchID, producentnavn)
);

DROP TABLE Genbestillingsliste;
CREATE TABLE if not exists Genbestillingsliste (
Råvare_navn varchar(45) primary key UNIQUE,
Genbestilles boolean
);

DROP TABLE Brugere;
CREATE TABLE if not exists Brugere (
BrugerID int primary key,
brugerNavn varchar(45),
Initialer varchar (45)
);

CREATE TABLE if not exists Roller (
BrugerID int references Brugere.BrugerID ON DELETE CASCADE,
Rolle varchar(45),
CONSTRAINT primary key pk1 (BrugerID, Rolle)
);




